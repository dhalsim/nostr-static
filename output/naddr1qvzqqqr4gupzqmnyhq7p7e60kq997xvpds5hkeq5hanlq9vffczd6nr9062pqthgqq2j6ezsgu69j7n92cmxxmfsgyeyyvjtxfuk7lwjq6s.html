<!DOCTYPE HTML>
<html>
  <head>
    <link rel="icon" href="favicon/favicon-96x96.png" sizes="96x96">
    <link rel="icon" href="favicon/favicon.svg" type="image/svg&#43;xml">
    <link rel="shortcut icon" href="favicon/favicon.ico">
    <link rel="apple-touch-icon" href="favicon/apple-touch-icon.png" sizes="180x180">
    <link rel="manifest" href="favicon/site.webmanifest">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="How to Run Your Own Nostr Relay on Android with Cloudflare Domain">
    <meta property="og:description" content="Step-by-step guide to running a personal Nostr relay on Android using Citrine and Cloudflare Tunnels. Learn how to set up secure WebSocket connections, manage relay lists, and maintain a reliable private relay with your custom domain.">
    <meta property="og:url" content="https://blog.nostrize.me/naddr1qvzqqqr4gupzqmnyhq7p7e60kq997xvpds5hkeq5hanlq9vffczd6nr9062pqthgqq2j6ezsgu69j7n92cmxxmfsgyeyyvjtxfuk7lwjq6s">
    <meta property="og:image" content="https://image.nostr.build/f708db07b85c002b20b3159b48447d51cbcb0bae0f5717ce6dbc060580c8b35d.jpg">
    <title>
      How to Run Your Own Nostr Relay on Android with Cloudflare Domain
    </title>
    <style>
       
      body {
          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
          line-height: 1.6;
          max-width: 800px;
      	margin: 0 auto;
      	padding: 20px;
      	font-size: 16px;
          color: #333;
          background-color: #fff;
      }
      
       
      body.light {
          background-color: #ffffff;
          color: #333333;
      }
      
      body.dark {
          background-color: #1a1a1a;
          color: #e0e0e0;
      }
      
       
      .container {
          max-width: 800px;
          margin: 0 auto;
          padding: 20px;
      }
      
       
      a {
          color: #0066cc;
          text-decoration: none;
      }
      
      body.light a {
          color: #0066cc;
      }
      
      body.dark a {
          color: #4a9eff;
      }
      
      a:hover {
          text-decoration: underline;
      }
      
       
      ul, ol {
          padding-left: 2em;
      }
      
       
      pre {
          background-color: #f5f5f5;
          padding: 1em;
          border-radius: 4px;
          overflow-x: auto;
      }
      
      body.dark pre {
          background-color: #2d2d2d;
      }
      
      code {
          font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
          font-size: 0.9em;
      }
      
       
      blockquote {
          margin: 1em 0;
          padding: 0.5em 1em;
          border-left: 4px solid #ddd;
          background-color: #f9f9f9;
      }
      
      body.dark blockquote {
          border-left-color: #404040;
          background-color: #2d2d2d;
      }
      
       
      table {
          border-collapse: collapse;
          width: 100%;
          margin: 1em 0;
      }
      
      th, td {
          padding: 0.5em;
          border: 1px solid #ddd;
      }
      
      body.dark th, body.dark td {
          border-color: #404040;
      }
      
      th {
          background-color: #f5f5f5;
      }
      
      body.dark th {
          background-color: #2d2d2d;
      }
      
       
      hr {
          border: none;
          border-top: 1px solid #ddd;
          margin: 2em 0;
      }
      
      body.dark hr {
          border-top-color: #404040;
      }
      
       
      .theme-toggle {
          position: fixed;
          top: 20px;
          right: 20px;
          padding: 8px 16px;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: 14px;
          transition: background-color 0.3s;
      }
      
      body.light .theme-toggle {
          background-color: #f0f0f0;
          color: #333;
      }
      
      body.dark .theme-toggle {
          background-color: #404040;
          color: #fff;
      }
      
      .theme-toggle:hover {
          opacity: 0.9;
      }
      
       
      @media (max-width: 600px) {
          .container {
              padding: 10px;
          }
          
          .theme-toggle {
              top: 10px;
              right: 10px;
          }
      }
      
      body.article .logo-container {
      	margin-top: 0;
      }
      
      body.article .page-container {
      	display: flex;
      	align-items: flex-start;
      	max-width: 1200px;
      	margin: 0 auto;
      }
      
      body.article .main-content {
      	flex: 1;
      	max-width: 800px;
      }
      
      body.article img {
      	max-width: 100%;
      	height: auto;
      }
      
      body.article pre {
      	background-color: #f5f5f5;
      	padding: 15px;
      	border-radius: 5px;
      	overflow-x: auto;
      }
      
      body.article code {
      	font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
      }
      
      body.article .article-header {
      	margin-bottom: 2em;
      }
      
      body.article .article-header h1 {
      	margin-bottom: 0.5em;
      }
      
      body.article article {
      	word-wrap: break-word;
      	overflow-wrap: break-word;
      	hyphens: auto;
      }
      
      body.article article p {
      	max-width: 100%;
      	overflow-wrap: break-word;
      	word-wrap: break-word;
      	word-break: break-word;
      }
      
      .page-container {
      	display: flex;
      	align-items: flex-start;
      	max-width: 1200px;
      	margin: 0 auto;
      }
      
      .main-content {
      	flex: 1;
      	max-width: 800px;
      }
      
      img {
      	max-width: 100%;
      	height: auto;
      }
      
      pre {
      	background-color: #f5f5f5;
      	padding: 15px;
      	border-radius: 5px;
      	overflow-x: auto;
      }
      code {
      	font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
      }
      
      .article-header {
      	margin-bottom: 2em;
      }
      
      .article-header h1 {
      	margin-bottom: 0.5em;
      }
      
      article {
      	word-wrap: break-word;
      	overflow-wrap: break-word;
      	hyphens: auto;
      }
      
      article p {
      	max-width: 100%;
      	overflow-wrap: break-word;
      	word-wrap: break-word;
      	word-break: break-word;
      }
      
      .tags {
      	margin-bottom: 1em;
      }
      		
      @media (max-width: 768px) {
      	.article-header {
      		display: flex;
      		flex-direction: column;
      		align-items: baseline;
      		margin-top: 15px;
      	}
      }
      
      .article-header-top {
      	display: flex;
      	justify-content: space-between;
      	align-items: center;
      	margin-bottom: 1em;
      }
      
      .recommended-articles-title {
          font-size: 1.5em;
          font-weight: 600;
      		margin-top: 1em;
          margin-bottom: 1em;
          color: #c99;
      }
      
      .tag-discovery-items {
          display: flex;
          overflow-x: auto;
          gap: 2em;
          scroll-behavior: smooth;
          -webkit-overflow-scrolling: touch;
          scrollbar-width: thin;
          scrollbar-color: #666 #f0f0f0;
      }
      
      .tag-discovery-items::-webkit-scrollbar {
          height: 8px;
      }
      
      .tag-discovery-items::-webkit-scrollbar-track {
          background: #f0f0f0;
          border-radius: 4px;
      }
      
      .tag-discovery-items::-webkit-scrollbar-thumb {
          background: #666;
          border-radius: 4px;
      }
      
      .tag-discovery-items::-webkit-scrollbar-thumb:hover {
          background: #888;
      }
      
      .tag-discovery-item {
          flex: 0 0 300px;
          display: flex;
          flex-direction: column;
          gap: 0.5em;
      }
      
      .tag-image-link {
          display: block;
          text-decoration: none;
          width: 100%;
          height: 200px;
          overflow: hidden;
          border-radius: 4px;
      }
      
      .tag-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
      }
      
      .tag-image-placeholder {
          width: 100%;
          height: 100%;
          background-color: #f0f0f0;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #999;
          font-size: 0.9em;
      }
      
      .tag-author-section {
          display: flex;
          align-items: center;
          gap: 0.5em;
      }
      
      .tag-author-picture {
          width: 24px;
          height: 24px;
          border-radius: 50%;
          object-fit: cover;
      }
      
      .tag-author {
          font-size: 0.85em;
          color: #666;
          text-decoration: none;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
      }
      
      .tag-author:hover {
          color: #333;
      }
      
      .tag-title {
          font-size: 1.2em;
          font-weight: 600;
          color: #333;
          text-decoration: none;
          display: block;
          line-height: 1.3;
      }
      
      .tag-title:hover {
          color: #666;
      }
      
      .tag-summary {
          font-size: 0.9em;
          color: #666;
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
          line-height: 1.4;
      }
      
      @media (max-width: 768px) {
          .tag-discovery-item {
              flex: 0 0 260px;
          }
          
          .tag-image-link {
              height: 180px;
          }
          
          .tag-author-picture {
              width: 20px;
              height: 20px;
          }
          
          .tag-author {
              font-size: 0.8em;
          }
      }
      
          @media (max-width: 768px) {
              body {
                  font-size: 18px;
                  padding: 15px;
              }
      
              .page-container {
                  flex-direction: column;
              }
      
              .main-content {
                  width: 100%;
              }
      
              .article-card {
                  padding: 15px;
              }
          }
      
      .dropdown {
      	position: relative;
      	display: inline-block;
      }
      
      .dropdown-button {
      	background-color: #f0f0f0;
      	border: none;
      	border-radius: 50%;
      	width: 20px;
      	height: 20px;
      	margin-left: 10px;
      	display: flex;
      	align-items: center;
      	justify-content: center;
      	font-size: 0.8em;
      	cursor: pointer;
      	color: #666;
      	transition: background-color 0.2s;
      }
      
      .dropdown-button:hover {
      	background-color: #e0e0e0;
      }
      
      .dropdown-content {
      	display: none;
      	position: absolute;
      	right: -10px;
      	top: 100%;
      	background-color: white;
      	min-width: 180px;
      	box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
      	z-index: 1;
      	border-radius: 8px;
      	margin-top: 8px;
      	border: 1px solid #eee;
      }
      
      .dropdown.show .dropdown-content {
      	display: block;
      }
      
      .dropdown-content a {
      	font-size: 0.8em;
      	color: #333;
      	padding: 12px 16px;
      	text-decoration: none;
      	display: block;
      	transition: background-color 0.2s;
      	border-bottom: 1px solid #eee;
      	border-radius: 8px;
      }
      
      .dropdown-content a:last-child {
      	border-bottom: none;
      }
      
      .dropdown-content a:hover {
      	background-color: #f5f5f5;
      }
      
      .logo {
          text-align: center;
      }
      
      .logo img {
          max-height: 100px;
          width: auto;
      }
      
      .logo-container {
          margin-top: 20px;
          margin-right: 20px;
      }
      
      .logo-container img {
          max-height: 50px;
          width: auto;
      }
      
      .compact-profile {
          display: flex;
          align-items: center;
          gap: 8px;
      }
      
      .compact-profile-link {
          display: flex;
          align-items: center;
          text-decoration: none;
          color: inherit;
          gap: 8px;
      }
      
      .compact-profile-ago {
          margin-bottom: 1px;
          font-size: 0.8em;
      }
      
      .compact-profile-picture {
          width: 15px;
          height: 15px;
          border-radius: 50%;
          object-fit: cover;
      }
      
      .compact-profile-name {
          font-size: 0.9em;
          font-weight: 500;
      }
      
       
      body.light .compact-profile-link {
          color: #000000;
      }
      
      body.light .compact-profile-link:hover {
          color: #0066cc;
      }
      
      body.dark .compact-profile-link {
          color: #e0e0e0;
      }
      
      body.dark .compact-profile-link:hover {
          color: #4a9eff;
      }
      
      .time-ago {
          display: inline-block;
          min-width: 70px;
      }
      
      .feed-links {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 0.5em;
          padding: 1em;
      }
      
      .feed-icon {
          width: 16px;
          height: 16px;
      }
      
      .tags {
      	display: flex;
      	flex-wrap: wrap;
      	gap: 0 8px;
      	margin-top: 1em;
      	margin-bottom: 1em;
      }
      
      .tag {
      	display: inline-block;
      	padding: 4px 8px;
      	border-radius: 4px;
      	margin-bottom: 8px;
      	font-size: 0.9em;
      }
      
      .tag a {
      	text-decoration: none;
      	color: inherit;
      }
      
      body.light .tag {
      	background-color: #f0f0f0;
      	border: 1px solid #dee2e6;
      }	
      
      body.dark .tag {
      	background-color: #1a1a1a;
      	border: 1px solid #404040;
      }
      
      .footer {
          margin-top: 2em;
          padding-top: 1em;
          border-top: 1px solid #eee;
          text-align: center;
          font-size: 0.9em;
          color: #666;
      }
      
      body.dark .footer {
          border-top-color: #333;
          color: #999;
      }
      
      .footer a {
          text-decoration: none;
      }
      
      body.light .footer a {
          color: #0066cc;
      }
      
      body.dark .footer a {
          color: #4a9eff;
      }
      
      .image-container {
          margin: 20px 0;
          text-align: center;
      }
      
      .image-container img {
          max-width: 100%;
          height: auto;
          border-radius: 8px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      
      body.dark .image-container img {
          box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      }
      
    </style>
  </head>
  <body class="dark article">
    <div class="page-container">
      <div class="logo-container">
        <div class="logo">
          <a href="index.html">
            <img src="logo.png" alt="Logo">
          </a>
        </div>
      </div>
      <div class="main-content">
        <article>
          <div class="article-header">
            <div class="article-header-top">
              <div class="compact-profile">
                <a href="profile/nprofile1qqsxue9c8s0kwnaspf03nqtv99akg99lvlcptz2wqnw5cet7jsgza6qpp4mhxue69uhkummn9ekx7mq8k7c9l.html" class="compact-profile-link">
                  <img src="https://dhalsim.github.io/assets/dhalsim_logo_sq.png" alt="dhalsim" class="compact-profile-picture">
                  <span class="compact-profile-name">
                    dhalsim
                  </span>
                </a>
                <a href="naddr1qvzqqqr4gupzqmnyhq7p7e60kq997xvpds5hkeq5hanlq9vffczd6nr9062pqthgqq2j6ezsgu69j7n92cmxxmfsgyeyyvjtxfuk7lwjq6s.html" class="compact-profile-ago">
                  <span class="time-ago" data-timestamp="1745439814">
                  </span>
                </a>
              </div>
              <div class="dropdown">
                <button class="dropdown-button" type="button">
                  ⋯
                </button>
                <div class="dropdown-content">
                  <a href="https://njump.me/naddr1qvzqqqr4gupzqmnyhq7p7e60kq997xvpds5hkeq5hanlq9vffczd6nr9062pqthgqq2j6ezsgu69j7n92cmxxmfsgyeyyvjtxfuk7lwjq6s" class="nostr-link" target="_blank">
                    Open Article in Nostr
                  </a>
                  <a href="https://njump.me/nprofile1qqsxue9c8s0kwnaspf03nqtv99akg99lvlcptz2wqnw5cet7jsgza6qpp4mhxue69uhkummn9ekx7mq8k7c9l" class="nostr-link" target="_blank">
                    Open Author in Nostr
                  </a>
                </div>
              </div>
            </div>
            <h1>
              How to Run Your Own Nostr Relay on Android with Cloudflare Domain
            </h1>
            <p class="summary">
              Step-by-step guide to running a personal Nostr relay on Android using Citrine and Cloudflare Tunnels. Learn how to set up secure WebSocket connections, manage relay lists, and maintain a reliable private relay with your custom domain.
            </p>
            <div class="tags">
              <span class="tag">
                <a href="tag/nostr.html">
                  nostr
                </a>
              </span>
              <span class="tag">
                <a href="tag/relay.html">
                  relay
                </a>
              </span>
              <span class="tag">
                <a href="tag/citrine.html">
                  citrine
                </a>
              </span>
              <span class="tag">
                <a href="tag/cloudflare.html">
                  cloudflare
                </a>
              </span>
              <span class="tag">
                <a href="tag/tunnel.html">
                  tunnel
                </a>
              </span>
              <span class="tag">
                <a href="tag/outbox.html">
                  outbox
                </a>
              </span>
            </div>
            <div class="image-container">
              <a href="naddr1qvzqqqr4gupzqmnyhq7p7e60kq997xvpds5hkeq5hanlq9vffczd6nr9062pqthgqq2j6ezsgu69j7n92cmxxmfsgyeyyvjtxfuk7lwjq6s.html">
                <img src="https://image.nostr.build/f708db07b85c002b20b3159b48447d51cbcb0bae0f5717ce6dbc060580c8b35d.jpg" alt="How to Run Your Own Nostr Relay on Android with Cloudflare Domain">
              </a>
            </div>
          </div><h2 id="prerequisites">Prerequisites</h2>
          <ol>
          <li>
          <p>Install Citrine on your Android device:</p>
          <ul>
          <li>Visit <a href="https://github.com/greenart7c3/Citrine/releases">https://github.com/greenart7c3/Citrine/releases</a></li>
          <li>Download the latest release using:
          <ul>
          <li>zap.store</li>
          <li>Obtainium</li>
          <li>F-Droid</li>
          <li>Or download the APK directly</li>
          </ul>
          </li>
          <li><strong>Note:</strong> You may need to enable &quot;Install from Unknown Sources&quot; in your Android settings</li>
          </ul>
          </li>
          <li>
          <p>Domain Requirements:</p>
          <ul>
          <li>Purchase a domain if you don't have one</li>
          <li>Transfer your domain to Cloudflare if it's not already there (for free SSL certificates and cloudflared support)</li>
          </ul>
          </li>
          <li>
          <p>Tools to use:</p>
          <ul>
          <li>nak (the nostr army knife):
          <ul>
          <li>Download from <a href="https://github.com/fiatjaf/nak/releases">https://github.com/fiatjaf/nak/releases</a></li>
          <li>Installation steps:
          <ul>
          <li>For Linux/macOS:
          <pre><code class="language-bash"># Download the appropriate version for your system
          wget https://github.com/fiatjaf/nak/releases/latest/download/nak-linux-amd64  # for Linux
          # or
          wget https://github.com/fiatjaf/nak/releases/latest/download/nak-darwin-amd64  # for macOS
          
          # Make it executable
          chmod +x nak-*
          
          # Move to a directory in your PATH
          sudo mv nak-* /usr/local/bin/nak
          </code></pre>
          </li>
          <li>For Windows:
          <pre><code class="language-batch"># Download the Windows version
          curl -L -o nak.exe https://github.com/fiatjaf/nak/releases/latest/download/nak-windows-amd64.exe
          
          # Move to a directory in your PATH (e.g., C:\Windows)
          move nak.exe C:\Windows\nak.exe
          </code></pre>
          </li>
          </ul>
          </li>
          <li>Verify installation:
          <pre><code class="language-bash">nak --version
          </code></pre>
          </li>
          </ul>
          </li>
          </ul>
          </li>
          </ol>
          <h2 id="setting-up-citrine">Setting Up Citrine</h2>
          <ol>
          <li>Open the Citrine app</li>
          <li>Start the server</li>
          <li>You'll see it running on <code>ws://127.0.0.1:4869</code> (local network only)</li>
          <li>Go to settings and paste your npub into &quot;Accept events signed by&quot; inbox and press the + button. This prevents others from publishing events to your personal relay.</li>
          </ol>
          <h2 id="installing-required-tools">Installing Required Tools</h2>
          <ol>
          <li>Install Termux from Google Play Store</li>
          <li>Open Termux and run:</li>
          </ol>
          <pre><code class="language-bash">pkg update &amp;&amp; pkg install wget
          wget https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64.deb
          dpkg -i cloudflared-linux-arm64.deb
          </code></pre>
          <h2 id="cloudflare-authentication">Cloudflare Authentication</h2>
          <ol>
          <li>Run the authentication command:</li>
          </ol>
          <pre><code class="language-bash">cloudflared tunnel login
          </code></pre>
          <ol start="2">
          <li>Follow the instructions:
          <ul>
          <li>Copy the provided URL to your browser</li>
          <li>Log in to your Cloudflare account</li>
          <li>If the URL expires, copy it again after logging in</li>
          </ul>
          </li>
          </ol>
          <h2 id="creating-the-tunnel">Creating the Tunnel</h2>
          <ol>
          <li>Create a new tunnel:</li>
          </ol>
          <pre><code class="language-bash">cloudflared tunnel create &lt;TUNNEL_NAME&gt;
          </code></pre>
          <ul>
          <li>Choose any name you prefer for your tunnel</li>
          <li>Copy the tunnel ID after creating the tunnel</li>
          </ul>
          <ol start="2">
          <li>Create and configure the tunnel config:</li>
          </ol>
          <pre><code class="language-bash">touch ~/.cloudflared/config.yml
          nano ~/.cloudflared/config.yml
          </code></pre>
          <ol start="3">
          <li>Add this configuration (replace the placeholders with your values):</li>
          </ol>
          <pre><code class="language-yaml">tunnel: &lt;TUNNEL_UUID&gt;
          credentials-file: /data/data/com.termux/files/home/.cloudflared/&lt;TUNNEL_UUID&gt;.json
          ingress:
            - hostname: nostr.yourdomain.com
              service: ws://localhost:4869
            - service: http_status:404
          </code></pre>
          <ul>
          <li><strong>Note:</strong> In nano editor:
          <ul>
          <li><code>CTRL+O</code> and Enter to save</li>
          <li><code>CTRL+X</code> to exit</li>
          </ul>
          </li>
          <li><strong>Note:</strong> Check the credentials file path in the logs</li>
          </ul>
          <ol start="4">
          <li>Validate your configuration:</li>
          </ol>
          <pre><code class="language-bash">cloudflared tunnel validate
          </code></pre>
          <ol start="5">
          <li>Start the tunnel:</li>
          </ol>
          <pre><code class="language-bash">cloudflared tunnel run my-relay
          </code></pre>
          <h2 id="preventing-android-from-killing-the-tunnel">Preventing Android from Killing the Tunnel</h2>
          <p>Run these commands to maintain tunnel stability:</p>
          <pre><code class="language-bash">date &amp;&amp; apt install termux-tools &amp;&amp; termux-setup-storage &amp;&amp; termux-wake-lock
          echo &quot;nameserver 1.1.1.1&quot; &gt; $PREFIX/etc/resolv.conf
          </code></pre>
          <p><strong>Tip:</strong> You can open multiple Termux sessions by swiping from the left edge of the screen while keeping your tunnel process running.</p>
          <h2 id="updating-your-outbox-model-relays">Updating Your Outbox Model Relays</h2>
          <p>Once your relay is running and accessible via your domain, you'll want to update your relay list in the Nostr network. This ensures other clients know about your relay and can connect to it.</p>
          <h3 id="decoding-npub-public-key">Decoding npub (Public Key)</h3>
          <p>Private keys (nsec) and public keys (npub) are encoded in bech32 format, which includes:</p>
          <ul>
          <li>A prefix (like nsec1, npub1 etc.)</li>
          <li>The encoded data</li>
          <li>A checksum</li>
          </ul>
          <p>This format makes keys:</p>
          <ul>
          <li>Easy to distinguish</li>
          <li>Hard to copy incorrectly</li>
          </ul>
          <p>However, most tools require these keys in hexadecimal (hex) format.</p>
          <p>To decode an npub string to its hex format:</p>
          <pre><code class="language-bash">nak decode nostr:npub1dejts0qlva8mqzjlrxqkc2tmvs2t7elszky5upxaf3jha9qs9m5q605uc4
          </code></pre>
          <p>Change it with your own npub.</p>
          <pre><code class="language-bash">{
            &quot;pubkey&quot;: &quot;6e64b83c1f674fb00a5f19816c297b6414bf67f015894e04dd4c657e94102ee8&quot;
          }
          </code></pre>
          <p>Copy the pubkey value in quotes.</p>
          <h3 id="create-a-kind-10002-event-with-your-relay-list">Create a kind 10002 event with your relay list:</h3>
          <ul>
          <li>Include your new relay with write permissions</li>
          <li>Include other relays you want to read from and write to, omit 3rd parameter to make it both read and write</li>
          </ul>
          <p>Example format:</p>
          <pre><code class="language-json">{
            &quot;kind&quot;: 10002,
            &quot;tags&quot;: [
              [&quot;r&quot;, &quot;wss://your-relay-domain.com&quot;, &quot;write&quot;],
              [&quot;r&quot;, &quot;wss://eden.nostr.land/&quot;],
              [&quot;r&quot;, &quot;wss://nos.lol/&quot;],
              [&quot;r&quot;, &quot;wss://nostr.bitcoiner.social/&quot;],
              [&quot;r&quot;, &quot;wss://nostr.mom/&quot;],
              [&quot;r&quot;, &quot;wss://relay.primal.net/&quot;],
              [&quot;r&quot;, &quot;wss://nostr.wine/&quot;, &quot;read&quot;],
              [&quot;r&quot;, &quot;wss://relay.damus.io/&quot;],
              [&quot;r&quot;, &quot;wss://relay.nostr.band/&quot;],
              [&quot;r&quot;, &quot;wss://relay.snort.social/&quot;]
            ],
            &quot;content&quot;: &quot;&quot;
          }
          </code></pre>
          <p>Save it to a file called <code>event.json</code></p>
          <p><strong>Note:</strong> Add or remove any relays you want. To check your existing 10002 relays:</p>
          <ul>
          <li>
          <p>Visit <a href="https://nostr.band/?q=by%3Anpub1dejts0qlva8mqzjlrxqkc2tmvs2t7elszky5upxaf3jha9qs9m5q605uc4+++kind%3A10002">https://nostr.band/?q=by%3Anpub1dejts0qlva8mqzjlrxqkc2tmvs2t7elszky5upxaf3jha9qs9m5q605uc4+++kind%3A10002</a></p>
          </li>
          <li>
          <p>nostr.band is an indexing service, it probably has your relay list.</p>
          </li>
          <li>
          <p>Replace <code>npub1xxx</code> in the URL with your own npub</p>
          </li>
          <li>
          <p>Click &quot;VIEW JSON&quot; from the menu to see the raw event</p>
          </li>
          <li>
          <p>Or use the <code>nak</code> tool if you know the relays</p>
          <pre><code class="language-bash">nak req -k 10002 -a &lt;your-pubkey&gt; wss://relay1.com wss://relay2.com
          </code></pre>
          <p>Replace <code>&lt;your-pubkey&gt;</code> with your public key in hex format (you can get it using <code>nak decode &lt;your-npub&gt;</code>)</p>
          </li>
          </ul>
          <ol start="2">
          <li>Sign and publish the event:
          <ul>
          <li>Use a Nostr client that supports kind 10002 events</li>
          <li>Or use the <code>nak</code> command-line tool:</li>
          </ul>
          <pre><code class="language-bash">nak event --sec ncryptsec1... wss://relay1.com wss://relay2.com $(cat event.json)
          </code></pre>
          </li>
          </ol>
          <p><strong>Important Security Notes:</strong></p>
          <ol>
          <li>Never share your nsec (private key) with anyone</li>
          <li>Consider using NIP-49 encrypted keys for better security</li>
          <li>Never paste your nsec or private key into the terminal. The command will be saved in your shell history, exposing your private key. To clear the command history:
          <ul>
          <li>For bash: use <code>history -c</code></li>
          <li>For zsh: use <code>fc -W</code> to write history to file, then <code>fc -p</code> to read it back</li>
          <li>Or manually edit your shell history file (e.g., <code>~/.zsh_history</code> or <code>~/.bash_history</code>)</li>
          </ul>
          </li>
          <li>if you're using <code>zsh</code>, use <code>fc -p</code> to prevent the next command from being saved to history</li>
          <li>Or temporarily disable history before running sensitive commands:</li>
          </ol>
          <pre><code class="language-bash">unset HISTFILE
          nak key encrypt ...
          set HISTFILE
          </code></pre>
          <h2 id="how-to-securely-create-nip-49-encypted-private-key">How to securely create NIP-49 encypted private key</h2>
          <pre><code class="language-bash"># Read your private key (input will be hidden)
          read -s SECRET 
          # Read your password (input will be hidden)
          read -s PASSWORD
          # encrypt command
          echo &quot;$SECRET&quot; | nak key encrypt &quot;$PASSWORD&quot;
          # copy and paste the ncryptsec1 text from the output
          read -s ENCRYPTED
          nak key decrypt &quot;$ENCRYPTED&quot;
          # clear variables from memory
          unset SECRET PASSWORD ENCRYPTED
          </code></pre>
          <p>On a Windows command line, to read from stdin and use the variables in <code>nak</code> commands, you can use a combination of <code>set /p</code> to read input and then use those variables in your command. Here's an example:</p>
          <pre><code class="language-bash">@echo off
          set /p &quot;SECRET=Enter your secret key: &quot;
          set /p &quot;PASSWORD=Enter your password: &quot;
          
          echo %SECRET%| nak key encrypt %PASSWORD%
          
          :: Clear the sensitive variables
          set &quot;SECRET=&quot;
          set &quot;PASSWORD=&quot;
          </code></pre>
          <p>If your key starts with <code>ncryptsec1</code>, the <code>nak</code> tool will securely prompt you for a password when using the <code>--sec</code> parameter, unless the command is used with a pipe <code>&lt; &gt;</code> or <code>|</code>.</p>
          <pre><code class="language-bash">nak event --sec ncryptsec1... wss://relay1.com wss://relay2.com $(cat event.json)
          </code></pre>
          <ol start="3">
          <li>Verify the event was published:
          <ul>
          <li>Check if your relay list is visible on other relays</li>
          <li>Use the <code>nak</code> tool to fetch your kind 10002 events:</li>
          </ul>
          </li>
          </ol>
          <pre><code class="language-bash">nak req -k 10002 -a &lt;your-pubkey&gt; wss://relay1.com wss://relay2.com
          </code></pre>
          <ol start="4">
          <li>Testing your relay:
          <ul>
          <li>Try connecting to your relay using different Nostr clients</li>
          <li>Verify you can both read from and write to your relay</li>
          <li>Check if events are being properly stored and retrieved</li>
          <li><strong>Tip:</strong> Use multiple Nostr clients to test different aspects of your relay</li>
          </ul>
          </li>
          </ol>
          <p><strong>Note:</strong> If anyone in the community has a more efficient method of doing things like updating outbox relays, please share your insights in the comments. Your expertise would be greatly appreciated!</p>
          
        </article><zap-threads 
        		anchor="naddr1qvzqqqr4gupzqmnyhq7p7e60kq997xvpds5hkeq5hanlq9vffczd6nr9062pqthgqq2j6ezsgu69j7n92cmxxmfsgyeyyvjtxfuk7lwjq6s" 
        		relays="wss://relay.damus.io,wss://nostr.wine,wss://relay.nostr.band,wss://nos.lol,wss://relay.primal.net"
        		urls="naddr:njump.me/,npub:njump.me/,nprofile:njump.me/,nevent:njump.me/,note:njump.me/,tag:snort.social/t/"
        		disable="replyAnonymously" />
      </div>
    </div>
    <div class="tag-discovery-section">
      <div class="recommended-articles-title">Recommended Articles
      </div>
      <div class="tag-discovery-items">
        <div class="tag-discovery-item">
          <a class="tag-image-link" href="https://njump.me/naddr1qq8xxmr0w4jxvmrpwfjj6atxwuqs6amnwvaz7tmwdaejumr0dspzqprpljlvcnpnw3pejvkkhrc3y6wvmd7vjuad0fg2ud3dky66gaxaqvzqqqr4guhmelpw" target="_blank">
            <div class="tag-image-placeholder">No image
            </div>
          </a>
          <div class="tag-author-section">
            <img class="tag-author-picture" src="https://media.ditto.pub/3fd58d3db4fdcf40091d69e881242678c8010acc446c3f0d8e95cc9505b12e7a.jpeg">
            <a class="tag-author" href="https://njump.me/nprofile1qqsqgc0uhmxycvm5gwvn944c7yfxnnxm0nyh8tt62zhrvtd3xkj8fhgpzemhxue69uhhyetvv9ujuurjd9kkzmpwdejhg3gxms3" target="_blank">Alex Gleason
            </a>
          </div>
          <a class="tag-title" href="https://njump.me/naddr1qq8xxmr0w4jxvmrpwfjj6atxwuqs6amnwvaz7tmwdaejumr0dspzqprpljlvcnpnw3pejvkkhrc3y6wvmd7vjuad0fg2ud3dky66gaxaqvzqqqr4guhmelpw" target="_blank">Secure Cloudflare with UFW
          </a>
          <div class="tag-summary">
          </div>
        </div>
        <div class="tag-discovery-item">
          <a class="tag-image-link" href="https://njump.me/naddr1qq652mtsdamk2unfdenj6nmsv4hxuetnwvk4gmms948x7um5wgk5zurswvkkvmmj94qkuerjda5kgtfsd94x2vr2qyt8wumn8ghj7un9d3shjtnswf5k6ctv9ehx2aqzyqlhwrt96wnkf2w9edgr4cfruchvwkv26q6asdhz4qg08pm6w3djgqcyqqq823cpdnccd" target="_blank">
            <img class="tag-image" src="https://cdn.satellite.earth/c0533fabe612e77d76360497062765f2adde346cd2ce32b273254968c9bcfa8b.jpg">
          </a>
          <div class="tag-author-section">
            <img class="tag-author-picture" src="https://i.nostr.build/MVIJ6OOFSUzzjVEc.jpg">
            <a class="tag-author" href="https://njump.me/nprofile1qqsr7acdvhf6we9fch94qwhpy0nza36e3tgrtkpku25ppuu80f69kfqpzemhxue69uhhyetvv9ujuurjd9kkzmpwdejhg5mh546" target="_blank">Derek Ross
            </a>
          </div>
          <a class="tag-title" href="https://njump.me/naddr1qq652mtsdamk2unfdenj6nmsv4hxuetnwvk4gmms948x7um5wgk5zurswvkkvmmj94qkuerjda5kgtfsd94x2vr2qyt8wumn8ghj7un9d3shjtnswf5k6ctv9ehx2aqzyqlhwrt96wnkf2w9edgr4cfruchvwkv26q6asdhz4qg08pm6w3djgqcyqqq823cpdnccd" target="_blank">Empowering Openness: Top Nostr Apps for Android
          </a>
          <div class="tag-summary">This article dives into the growing selection of powerful Nostr apps for Android—Amber, Citrine, Pokey, and zap.store—that are reshaping the landscape of self sovereign mobile technology. Each app provides a unique function in the Nostr ecosystem, from secure key management to real-time notifications, relays, and app discovery. Together, they highlight the openness and flexibility of Android as a platform, offering users enhanced security, control, and community-driven features in the world of Nostr.
          </div>
        </div>
        <div class="tag-discovery-item">
          <a class="tag-image-link" href="https://njump.me/naddr1qqxnzdenxqeryvpjxuenvvf5qyg8wumn8ghj7mn0wd68ytnhd9hx2q3qzuuajd7u3sx8xu92yav9jwxpr839cs0kc3q6t56vd5u9q033xmhsxpqqqp65wprczwt" target="_blank">
            <img class="tag-image" src="https://image.nostr.build/072c1cd417001e1ea1cee0044cb79cbba82f279d9d23707681dc2cc9564671f1.jpg">
          </a>
          <div class="tag-author-section">
            <img class="tag-author-picture" src="https://m.primal.net/HIVN.jpg">
            <a class="tag-author" href="https://njump.me/nprofile1qqspwwwexlwgcrrnwz4zwkze8rq3ncjug8mvgsd96dxx6wzs8ccndmcpzemhxue69uhhyetvv9ujuurjd9kkzmpwdejhgt2xpyc" target="_blank">JeffG
            </a>
          </div>
          <a class="tag-title" href="https://njump.me/naddr1qqxnzdenxqeryvpjxuenvvf5qyg8wumn8ghj7mn0wd68ytnhd9hx2q3qzuuajd7u3sx8xu92yav9jwxpr839cs0kc3q6t56vd5u9q033xmhsxpqqqp65wprczwt" target="_blank">MLS over Nostr - Oct 29 2024
          </a>
          <div class="tag-summary">A major milestone! Now, back to work. 
          </div>
        </div>
        <div class="tag-discovery-item">
          <a class="tag-image-link" href="https://njump.me/naddr1qq2nskt2w9vx6dznfdvj64rpw4mk5nmxf3v9xqgkwaehxw309aex2mrp0yh8qunfd4skctnwv46qygyhcu9ygdn2v56uz3dnx0uh865xmlwz675emfsccsxxguz6mx8rygpsgqqqw4rswgzyfp" target="_blank">
            <img class="tag-image" src="https://yakihonne.s3.ap-east-1.amazonaws.com/97c70a44366a6535c145b333f973ea86dfdc2d7a99da618c40c64705ad98e322/files/1724892627307-YAKIHONNES3.jpg">
          </a>
          <div class="tag-author-section">
            <img class="tag-author-picture" src="https://i.nostr.build/AZ0L.jpg">
            <a class="tag-author" href="https://njump.me/nprofile1qqsf03c2gsmx5ef4c9zmxvlew04gdh7u94afnknp33qvv3c94kvwxgspzemhxue69uhhyetvv9ujuurjd9kkzmpwdejhg4g3ves" target="_blank"> hodlbod
            </a>
          </div>
          <a class="tag-title" href="https://njump.me/naddr1qq2nskt2w9vx6dznfdvj64rpw4mk5nmxf3v9xqgkwaehxw309aex2mrp0yh8qunfd4skctnwv46qygyhcu9ygdn2v56uz3dnx0uh865xmlwz675emfsccsxxguz6mx8rygpsgqqqw4rswgzyfp" target="_blank">What is the Outbox Model?
          </a>
          <div class="tag-summary">An explainer on the Outbox Model, including what it is, where it came from, and why it's integral to making nostr work.
          </div>
        </div>
        <div class="tag-discovery-item">
          <a class="tag-image-link" href="https://njump.me/naddr1qq2hxenh2cchynnpdag4sepkx4gxyj2dt9nk6qgswaehxw309ahx7um5wgh8w6twv5pzp978pfzrv6n9xhq5tvenl9e74pklmskh4xw6vxxyp3j8qkke3cezqvzqqqr4gugjqaxv" target="_blank">
            <img class="tag-image" src="https://images.unsplash.com/photo-1706505754377-ae2ebd8142af?q=80&amp;w=2071&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D">
          </a>
          <div class="tag-author-section">
            <img class="tag-author-picture" src="https://i.nostr.build/AZ0L.jpg">
            <a class="tag-author" href="https://njump.me/nprofile1qqsf03c2gsmx5ef4c9zmxvlew04gdh7u94afnknp33qvv3c94kvwxgspzemhxue69uhhyetvv9ujuurjd9kkzmpwdejhg4g3ves" target="_blank"> hodlbod
            </a>
          </div>
          <a class="tag-title" href="https://njump.me/naddr1qq2hxenh2cchynnpdag4sepkx4gxyj2dt9nk6qgswaehxw309ahx7um5wgh8w6twv5pzp978pfzrv6n9xhq5tvenl9e74pklmskh4xw6vxxyp3j8qkke3cezqvzqqqr4gugjqaxv" target="_blank">Making Outbox Work
          </a>
          <div class="tag-summary">Disambiguating the Gossip Model. Advocating for relay proxies. Separating the Truth from the Jokes. Ban Jack! Down with Blastr!
          </div>
        </div>
        <div class="tag-discovery-item">
          <a class="tag-image-link" href="https://njump.me/naddr1qq3yy6t5vdhkjm3df9h8vetnw3kk2mn594tk2ett9489jsedwvuhyem5vuq3vamnwvaz7tmjv4kxz7fwwpexjmtpdshxuet5qgst32wlsgvqsnjfpkygxs4f6jyt0nc0kg935xdevwlv668dd26uh0grqsqqqa28ftlysn" target="_blank">
            <img class="tag-image" src="https://blossom.primal.net/1d6f4625321924c831eedc226c7d6c96828a5ce694cae7e02d36cfd09c3397e1.jpg">
          </a>
          <div class="tag-author-section">
            <img class="tag-author-picture" src="https://m.primal.net/Jblw.jpg">
            <a class="tag-author" href="https://njump.me/nprofile1qqst32wlsgvqsnjfpkygxs4f6jyt0nc0kg935xdevwlv668dd26uh0gpp4mhxue69uhkummn9ekx7mqfhdfh8" target="_blank">Tanja
            </a>
          </div>
          <a class="tag-title" href="https://njump.me/naddr1qq3yy6t5vdhkjm3df9h8vetnw3kk2mn594tk2ett9489jsedwvuhyem5vuq3vamnwvaz7tmjv4kxz7fwwpexjmtpdshxuet5qgst32wlsgvqsnjfpkygxs4f6jyt0nc0kg935xdevwlv668dd26uh0grqsqqqa28ftlysn" target="_blank">Bitcoin Investment Week NYC
          </a>
          <div class="tag-summary">Where were the plebs?
          </div>
        </div>
        <div class="tag-discovery-item">
          <a class="tag-image-link" href="https://njump.me/naddr1qqyxueth94ehqetrqyt8wumn8ghj7un9d3shjtnwdaehgu3wvfskueqzyp4n0q8099eww0fhpwz28eg70256ud9lgy5n3h8mm8zlvwezzstvsqcyqqq823cmmu02p" target="_blank">
            <img class="tag-image" src="https://image.nostr.build/43e9f24814f6b45627dab80c311ccbcfeb0a4993207936f4ba099f892b1461ca.jpg">
          </a>
          <div class="tag-author-section">
            <img class="tag-author-picture" src="https://dvmcp.fun/favicon.png">
            <a class="tag-author" href="https://njump.me/nprofile1qqsxkduqau5h9eeaxu9cfgl9rea2nt35haqjjwxul0vuta3myg2pdjqpp4mhxue69uhkummn9ekx7mqpzemhxue69uhhyetvv9ujumn0wd68ytnzv9hxgnfmxn2" target="_blank">DVMCP
            </a>
          </div>
          <a class="tag-title" href="https://njump.me/naddr1qqyxueth94ehqetrqyt8wumn8ghj7un9d3shjtnwdaehgu3wvfskueqzyp4n0q8099eww0fhpwz28eg70256ud9lgy5n3h8mm8zlvwezzstvsqcyqqq823cmmu02p" target="_blank">New spec is here
          </a>
          <div class="tag-summary">We are excited to announce the finalization of our DVMCP specification update, which integrates the latest Model Context Protocol (MCP) version `2025-03-26` and other improvements. This article highlights the key points of this update, and the differences between our initial vision and the final specification, providing insights into how our ideas evolved during the drafting process.
          </div>
        </div>
        <div class="tag-discovery-item">
          <a class="tag-image-link" href="https://njump.me/naddr1qq5y6nzn94hhvetj948x7um5wgknyvnwvsk5vetzwf6kzune95erqv3494kkvdtgxfssz9nhwden5te0wfjkccte9ec8y6tdv9kzumn9wspzq9eemymaerqvwdc25f6ctyuvzx0zt3qld3zp5hf5cmfc2qlrzdh0qvzqqqr4gu784npy" target="_blank">
            <img class="tag-image" src="https://blossom.primal.net/1efddac044f3e438372259d49beabc713de5a68e0d89958df8c8fb03d370220d.png">
          </a>
          <div class="tag-author-section">
            <img class="tag-author-picture" src="https://m.primal.net/HIVN.jpg">
            <a class="tag-author" href="https://njump.me/nprofile1qqspwwwexlwgcrrnwz4zwkze8rq3ncjug8mvgsd96dxx6wzs8ccndmcpzemhxue69uhhyetvv9ujuurjd9kkzmpwdejhgt2xpyc" target="_blank">JeffG
            </a>
          </div>
          <a class="tag-title" href="https://njump.me/naddr1qq5y6nzn94hhvetj948x7um5wgknyvnwvsk5vetzwf6kzune95erqv3494kkvdtgxfssz9nhwden5te0wfjkccte9ec8y6tdv9kzumn9wspzq9eemymaerqvwdc25f6ctyuvzx0zt3qld3zp5hf5cmfc2qlrzdh0qvzqqqr4gu784npy" target="_blank">MLS over Nostr - 22nd February 2025
          </a>
          <div class="tag-summary">Oh hello. Long time no see!
          </div>
        </div>
        <div class="tag-discovery-item">
          <a class="tag-image-link" href="https://njump.me/naddr1qqyrge3svfskvenyqyg8wumn8ghj7mn0wd68ytnhd9hx2q3qr0d8u8mnj6769500nypnm28a9hpk9qg8jr0ehe30tygr3wuhcnvsxpqqqp65wtk0der" target="_blank">
            <img class="tag-image" src="https://m.primal.net/NObR.png">
          </a>
          <div class="tag-author-section">
            <img class="tag-author-picture" src="https://image.nostr.build/0019acae0c6a5588e97c29d99e81851c2010669a9353ede435a5c4c85ea7dbad.png">
            <a class="tag-author" href="https://njump.me/nprofile1qqsphkn7raeed0dz68hejqea4r7jmsmzsyrephumuch4jypchwtufkgpzemhxue69uhhyetvv9ujuurjd9kkzmpwdejhgqjh3ly" target="_blank">rodbishop
            </a>
          </div>
          <a class="tag-title" href="https://njump.me/naddr1qqyrge3svfskvenyqyg8wumn8ghj7mn0wd68ytnhd9hx2q3qr0d8u8mnj6769500nypnm28a9hpk9qg8jr0ehe30tygr3wuhcnvsxpqqqp65wtk0der" target="_blank">Workflow Automation for Nostr
          </a>
          <div class="tag-summary">How to use workflow automation with Nostr, using n8n and Nostrobots, to delegate account access, set up push notifications, and more.
          </div>
        </div>
      </div>
    </div>
    <div class="footer">
      Built with 
      <a href="https://github.com/dhalsim/nostr-static" target="_blank">
        nostr-static
      </a>
    </div>
    <script src="/static/js/time-ago.js">
      ""
    </script>
    		<script>
    			window.wnjParams = {
    				position: 'bottom',
    				startHidden: true,
    				compactMode: true,
    				disableOverflowFix: true,
    			}
    		</script>
    		<script src="https://cdn.jsdelivr.net/npm/window.nostr.js/dist/window.nostr.min.js"></script>
    		<script type="text/javascript" src="https://unpkg.com/zapthreads/dist/zapthreads.iife.js"></script>
    	
    <script src="/static/js/dropdown.js">
      ""
    </script>
  </body>
</html>